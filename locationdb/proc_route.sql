-- DROP PROCEDURE UDP_ROUTE_DIFFERENCES_IN_METERS;

CREATE PROCEDURE UDP_ROUTE_DIFFERENCES_IN_METERS
AS
BEGIN
DECLARE @line1 GEOMETRY;  
SET @line1 = GEOMETRY::STGeomFromText('LINESTRING(-40.34974530600168 175.61318460100645, -40.35038300708114 175.61174896877768,-40.348175757535095 175.61010338460605
,-40.34779372624781 175.61101984837504, -40.348534633439876 175.61164263867107)', 0);  
DECLARE @line2 GEOMETRY;  
SET @line2 = GEOMETRY::STGeomFromText('LINESTRING(-40.34974530600168 175.61318460100645, -40.349406732534085 175.61388569647082, -40.348025260620894 175.61280720593444
, -40.348534633439876 175.61164263867107)', 0); 
-- SELECT @line2.STLength() * 100000 
 
DECLARE @line1_len FLOAT;
DECLARE @line2_len FLOAT;
DECLARE @total FLOAT;
SET @line1_len = @line1.STLength()*100000;
SET @line2_len = @line2.STLength()*100000;
SET @total = @line1.STLength()*100000 - @line2.STLength()*100000;
print CONCAT('Route 1 is ',@line1_len, '.Route 2 is ', @line2_len, '.The 
difference in distance is ', @total);
END;
