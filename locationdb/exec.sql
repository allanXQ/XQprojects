EXECUTE UDP_CREATE_TABLES;

DECLARE @shape VARCHAR;
DECLARE @wkt GEOMETRY;
DECLARE @label VARCHAR;

SET @shape ='point';
SET @wkt= geometry::STGeomFromText('POINT(40.3481680397407 175.61011351130333)',0); 
SET @label='outside buffer point 1';
EXEC UDP_INSERT_WKT @shape,@wkt,@label;


SET @shape='point';
SET @wkt= GEOMETRY::STGeomFromText('POINT(40.347901775708195 175.6106907315777)',0); 
SET @label='outside buffer point 2';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='point';
SET @wkt= GEOMETRY::STGeomFromText('POINT(-40.34778986732283 175.61100972172932)',0); 
SET @label='outside buffer point 3';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='point';
SET @wkt= GEOMETRY::STGeomFromText('POINT(-40.35013250709863, 175.61184384910015)',0); 
SET @label='inside buffer point 1';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='point';
SET @wkt= GEOMETRY::STGeomFromText('POINT(-40.34939187883339, 175.6135707950667)',0); 
SET @label='inside buffer point 2';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='point';
SET @wkt= GEOMETRY::STGeomFromText('POINT(-40.348881441105476, 175.61313741699144)',0); 
SET @label='inside buffer point 3';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='linestring';
SET @wkt= GEOMETRY::STGeomFromText('LINESTRING(-40.34974530600168 175.61318460100645, -40.35038300708114 175.61174896877768,-40.348175757535095 175.61010338460605
,-40.34779372624781 175.61101984837504, -40.348534633439876 175.61164263867107)',0); 
SET @label='route 1';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='linestring';
SET @wkt= GEOMETRY::STGeomFromText('LINESTRING(-40.34974530600168 175.61318460100645, -40.349406732534085 175.61388569647082, -40.348025260620894 175.61280720593444
, -40.348534633439876 175.61164263867107)',0); 
SET @label='route 2';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='polygon';
SET @wkt= GEOMETRY::STGeomFromText('POLYGON((
    -40.34988901143556 175.61325129611433, 
    -40.349842247594374 175.6133414162024, 
    -40.35001957528542 175.61347887941147, 
    -40.35006454592224 175.61338164934028,
    -40.34988901143556 175.61325129611433
    ))',0); 
SET @label='Home';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='polygon';
SET @wkt= GEOMETRY::STGeomFromText('POLYGON((
    -40.34807072650263 175.61279682814774 ,
     -40.348888947804376 175.6106600295279,
     -40.35034231670004 175.61173731546612,
      -40.349413717430544  175.61384251899855,
      -40.34807072650263 175.61279682814774 
    ))',0); 
SET @label='Hospital buffer';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

SET @shape='polygon';
SET @wkt= GEOMETRY::STGeomFromText('POLYGON((
    -40.34912805991542 175.6116258033274 , -40.349122752060914 175.61154687061895 
 , -40.34904136490625 175.61156079992045 , -40.349020133458446 175.611491153413 , -40.34874235473391 175.61160026627465
, -40.348768894151924 175.61176277479208 , -40.34878835638517 175.61175348859106 , -40.3488467430512 175.61208314872636
,-40.34876535556346 175.61211332887956 , -40.34880074143976 175.61231298220096 , -40.348929899730706 175.6122735158467
, -40.349020133458446 175.61277032759992 , -40.34906436563383 175.61274014744666 , -40.34915106061343 175.61272157504467
 , -40.34910859778021 175.61243138126363 , -40.349071442779206 175.61214350903282 , -40.349209446965475 175.61209707802786
, -40.34919529270295 175.61197171431442 , -40.349087366353565 175.61199260826666 , -40.349074981351606 175.6119183186587
, -40.34905905777431 175.61166294813137 , -40.34912805991542 175.6116258033274
    ))',0); 
SET @label='Hospital';
EXECUTE UDP_INSERT_WKT @shape,@wkt,@label;

EXECUTE UDP_ROUTE_DIFFERENCES_IN_METERS;
EXECUTE UDP_DISJOINT;
